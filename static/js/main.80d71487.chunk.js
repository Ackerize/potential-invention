(this["webpackJsonprutas-app"]=this["webpackJsonprutas-app"]||[]).push([[0],{49:function(e,t,s){},62:function(e,t,s){"use strict";s.r(t);var n=s(8),c=s(41),l=s.n(c),a=(s(49),s(0)),r=s.n(a),i=s(2),o=s(13),d=s(24),j=s(14),u=s(5);var x=function(){return Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"w-6 h-6",viewBox:"0 0 48 48",children:[Object(u.jsx)("defs",{children:Object(u.jsx)("path",{id:"a",d:"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"})}),Object(u.jsx)("clipPath",{id:"b",children:Object(u.jsx)("use",{overflow:"visible",xlinkHref:"#a"})}),Object(u.jsx)("path",{fill:"#FBBC05",d:"M0 37V11l17 13z",clipPath:"url(#b)"}),Object(u.jsx)("path",{fill:"#EA4335",d:"M0 11l17 13 7-6.1L48 14V0H0z",clipPath:"url(#b)"}),Object(u.jsx)("path",{fill:"#34A853",d:"M0 37l30-23 7.9 1L48 0v48H0z",clipPath:"url(#b)"}),Object(u.jsx)("path",{fill:"#4285F4",d:"M48 48L17 24l-4-3 35-10z",clipPath:"url(#b)"})]})},b=function(e){switch(e.name){case"logo":return Object(u.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})});case"google":return Object(u.jsx)(x,{});case"attach":return Object(u.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})});case"emoji":return Object(u.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"send":return Object(u.jsx)("svg",{className:"w-4 h-4 transform rotate-45 -mt-px",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})});default:return null}},h=function(){return Object(u.jsx)("button",{type:"button",className:"flex items-center justify-center text-gray-400 hover:text-gray-600",children:Object(u.jsx)(b,{name:"attach"})})},m=function(e){var t=e.onClick,s=e.text;return Object(u.jsx)("button",{className:"py-3 my-6 mx-6 px-6 text-white rounded-lg bg-red-500 shadow-lg block md:inline-block",onClick:t,children:s})},f=function(){return Object(u.jsx)("button",{type:"button",className:"absolute flex items-center justify-center h-full w-12 right-0 top-0 text-gray-400 hover:text-gray-600",children:Object(u.jsx)(b,{name:"emoji"})})},p=function(e){var t=e.text,s=e.onClick;return Object(u.jsx)("button",{type:"button",className:"w-full block bg-white hover:bg-gray-100 focus:bg-gray-100 text-gray-900 font-semibold rounded-lg px-4 py-3 border border-gray-300",onClick:s,children:Object(u.jsxs)("div",{className:"flex items-center justify-center",children:[Object(u.jsx)(b,{name:"google"}),Object(u.jsx)("span",{className:"ml-4",children:t})]})})},g=function(e){var t=e.text,s=e.type,n=void 0===s?"button":s;return Object(u.jsx)("button",{type:n,className:"w-full block bg-indigo-500 hover:bg-indigo-400 focus:bg-indigo-400 text-white font-semibold rounded-lg px-4 py-3 mt-6",children:t})},O=function(){return Object(u.jsx)("div",{className:"ml-4",children:Object(u.jsxs)("button",{type:"submit",className:"flex items-center justify-center bg-indigo-500 hover:bg-indigo-600 rounded-xl text-white px-4 py-1 flex-shrink-0",children:[Object(u.jsx)("span",{children:"Send"}),Object(u.jsx)("span",{className:"ml-2",children:Object(u.jsx)(b,{name:"send"})})]})})},v=function(e){var t=e.type,s=void 0===t?"submit":t,n=e.children,c=e.onClick;switch(s){case"google":return Object(u.jsx)(p,{text:n,onClick:c});case"danger":return Object(u.jsx)(m,{text:n,onClick:c});case"attach":return Object(u.jsx)(h,{});case"emoji":return Object(u.jsx)(f,{});case"send":return Object(u.jsx)(O,{});default:return Object(u.jsx)(g,{text:n,type:"submit"})}},w=function(e){var t=e.type,s=void 0===t?"text":t,n=e.placeholder,c=e.label,l=e.value,a=e.onChange,r=e.name;return Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("label",{className:"block text-gray-700",children:c}),Object(u.jsx)("input",{type:s,name:r,value:l,onChange:a,placeholder:n,className:"w-full px-4 py-3 rounded-lg bg-gray-200 mt-2 border focus:border-blue-500\r focus:bg-white focus:outline-none",required:!0})]})},N=function(){return Object(u.jsx)("div",{className:"bg-indigo-600 hidden lg:block w-full md:w-1/2 xl:w-2/3 h-screen",children:Object(u.jsx)("img",{src:"https://source.unsplash.com/random",alt:"splash",className:"w-full h-full object-cover"})})},y=function(e){var t=e.children;return Object(u.jsx)("h1",{className:"text-xl md:text-2xl font-bold leading-tight mt-12",children:t})},k=s(38),C=(s(52),s(63),k.a.initializeApp({apiKey:"AIzaSyDjylD0s8Ba6tIlAsFDC10badXd-AM-74k",authDomain:"loginapp-f61ba.firebaseapp.com",projectId:"loginapp-f61ba",storageBucket:"loginapp-f61ba.appspot.com",messagingSenderId:"807915842009",appId:"1:807915842009:web:f2b74fdec6dae336aa11c8"})),L=new k.a.auth.GoogleAuthProvider,A=s(3),M=s(28),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),s=Object(o.a)(t,2),c=s[0],l=s[1],a=function(e){var t=e.target,s=t.name,n=t.value;l(Object(M.a)(Object(M.a)({},c),{},Object(A.a)({},s,n)))};return[c,a]},S=function(){var e=E({email:"",password:""}),t=Object(o.a)(e,2),s=t[0],n=t[1];return Object(u.jsxs)("section",{className:"flex flex-col md:flex-row h-screen items-center",children:[Object(u.jsx)(N,{}),Object(u.jsx)("div",{className:"bg-white w-full md:max-w-md lg:max-w-full md:mx-auto md:w-1/2 xl:w-1/3 h-screen px-6 lg:px-16 xl:px-12\r flex items-center justify-center",children:Object(u.jsxs)("div",{className:"w-full h-100",children:[Object(u.jsx)(y,{children:"Log in to your account"}),Object(u.jsxs)("form",{className:"mt-6",onSubmit:function(e){e.preventDefault(),C.auth().signInWithEmailAndPassword(s.email,s.password).then((function(e){console.log(e)})).catch((function(e){console.log("Error logging in")}))},children:[Object(u.jsx)(w,{label:"Email address",type:"email",placeholder:"Enter Email Address",name:"email",value:s.email,onChange:n}),Object(u.jsx)(w,{label:"Password",type:"password",placeholder:"Enter a password",name:"password",value:s.password,onChange:n}),Object(u.jsx)(v,{children:"Log in"})]}),Object(u.jsx)("hr",{className:"my-6 border-gray-300 w-full"}),Object(u.jsx)(v,{type:"google",onClick:function(){C.auth().signInWithPopup(L).then((function(){console.log("ha sido exitoso")})).catch((function(e){return console.log(e)}))},children:" Log in with Google"}),Object(u.jsxs)("p",{className:"mt-8",children:["Need an account?"," ",Object(u.jsx)(d.b,{to:"/register",className:"text-blue-500 hover:text-blue-700 font-semibold",children:"Create an account"})]})]})})]})},P=function(){var e=E({name:"",email:"",password:""}),t=Object(o.a)(e,2),s=t[0],n=t[1],c=Object(j.g)();return Object(u.jsxs)("section",{className:"flex flex-col md:flex-row h-screen items-center",children:[Object(u.jsx)(N,{}),Object(u.jsx)("div",{className:"bg-white w-full md:max-w-md lg:max-w-full md:mx-auto md:mx-0 md:w-1/2 xl:w-1/3 h-screen px-6 lg:px-16 xl:px-12\r flex items-center justify-center",children:Object(u.jsxs)("div",{className:"w-full h-100",children:[Object(u.jsx)(y,{children:"Create your account"}),Object(u.jsxs)("form",{className:"mt-6",onSubmit:function(e){e.preventDefault(),s.password.length<6?alert("Password must be at least 6 characters long"):C.auth().createUserWithEmailAndPassword(s.email,s.password).then(function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.user.updateProfile({displayName:s.name});case 2:c.push("/login");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(u.jsx)(w,{label:"Name",placeholder:"Enter Name",name:"name",value:s.name,onChange:n}),Object(u.jsx)(w,{label:"Email address",type:"email",placeholder:"Enter Email Address",name:"email",value:s.email,onChange:n}),Object(u.jsx)(w,{label:"Password",type:"password",placeholder:"Enter a password",name:"password",value:s.password,onChange:n}),Object(u.jsx)(v,{children:"Register"})]}),Object(u.jsx)("hr",{className:"my-6 border-gray-300 w-full"}),Object(u.jsxs)("p",{className:"mt-8",children:["Already have an account?"," ",Object(u.jsx)(d.b,{to:"/login",className:"text-blue-500 hover:text-blue-700 font-semibold",children:"Log In"})]})]})})]})},z=function(){return Object(u.jsx)(d.a,{children:Object(u.jsxs)(j.d,{children:[Object(u.jsx)(j.b,{exact:!0,path:"/login",component:S}),Object(u.jsx)(j.b,{exact:!0,path:"/register",component:P}),Object(u.jsx)(j.a,{to:"/login"})]})})},B=function(e){var t=e.onSend,s=Object(n.useState)(""),c=Object(o.a)(s,2),l=c[0],a=c[1];return Object(u.jsxs)("form",{className:"flex flex-row items-center h-16 rounded-xl bg-white w-full px-4",onSubmit:function(e){e.preventDefault(),l.length>0?(t(l),a("")):alert("No puede enviar mensaje vac\xedo")},children:[Object(u.jsx)("div",{children:Object(u.jsx)(v,{type:"attach"})}),Object(u.jsx)("div",{className:"flex-grow ml-4",children:Object(u.jsxs)("div",{className:"relative w-full",children:[Object(u.jsx)("input",{type:"text",className:"flex w-full border rounded-xl focus:outline-none focus:border-indigo-300 pl-4 h-10",value:l,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)(v,{type:"emoji"})]})}),Object(u.jsx)(v,{type:"send"})]})},U=function(e){var t=e.message,s=t.text,n=t.photoURL,c=t.displayName.charAt(0).toUpperCase();return Object(u.jsx)("div",{className:"col-start-1 col-end-8 p-3 rounded-lg",children:Object(u.jsxs)("div",{className:"flex flex-row items-center",children:[Object(u.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-blue-500 text-white flex-shrink-0",children:n?Object(u.jsx)("img",{src:n,alt:"Avatar",className:"rounded-full"}):Object(u.jsx)("span",{children:c})}),Object(u.jsx)("div",{className:"relative ml-3 text-sm bg-white py-2 px-4 shadow rounded-xl",children:Object(u.jsx)("div",{children:s})})]})})},I=function(e){var t=e.message,s=t.text,n=t.photoURL,c=t.displayName.charAt(0).toUpperCase();return Object(u.jsx)("div",{className:"col-start-6 col-end-13 p-3 rounded-lg",children:Object(u.jsxs)("div",{className:"flex items-center justify-start flex-row-reverse",children:[Object(u.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-green-500 text-white flex-shrink-0",children:n?Object(u.jsx)("img",{src:n,alt:"Avatar",className:"rounded-full"}):Object(u.jsx)("span",{children:c})}),Object(u.jsx)("div",{className:"relative mr-3 text-sm bg-indigo-100 py-2 px-4 shadow rounded-xl",children:Object(u.jsx)("div",{children:s})})]})})},D=function(e){var t=e.user,s=Object(n.useState)([]),c=Object(o.a)(s,2),l=c[0],a=c[1];Object(n.useEffect)((function(){C.database().ref("general").on("value",(function(e){var t=e.val();if(t){var s=Object.entries(t).map((function(e){return Object(M.a)(Object(M.a)({},e[1]),{},{idMessage:e[0]})}));console.log(s),a(s)}}))}),[]);return Object(u.jsx)("div",{className:"flex flex-col flex-auto h-full p-6",children:Object(u.jsxs)("div",{className:"flex flex-col flex-auto flex-shrink-0 rounded-2xl bg-gray-100 h-full p-4",children:[Object(u.jsx)("div",{className:"flex flex-col h-full overflow-x-auto mb-4",children:Object(u.jsx)("div",{className:"flex flex-col h-full",children:Object(u.jsx)("div",{className:"grid grid-cols-12 gap-y-2",children:l.map((function(e){return e.uid===t.uid?Object(u.jsx)(I,{message:e},e.idMessage):Object(u.jsx)(U,{message:e},e.idMessage)}))})})}),Object(u.jsx)(B,{onSend:function(e){var s={uid:t.uid,text:e,time:Date.now(),displayName:t.displayName,photoURL:t.photoURL||!1};C.database().ref("general").push(s)}})]})})},W=function(e){var t=e.user,s=t.displayName,n=t.photoURL;return Object(u.jsxs)("div",{className:"flex flex-col py-8 pl-6 pr-2 w-64 bg-white flex-shrink-0",children:[Object(u.jsxs)("div",{className:"flex flex-row items-center justify-center h-12 w-full",children:[Object(u.jsx)("div",{className:"flex items-center justify-center rounded-2xl text-indigo-700 bg-indigo-100 h-10 w-10",children:Object(u.jsx)(b,{name:"logo"})}),Object(u.jsx)("div",{className:"ml-2 font-bold text-2xl",children:"ChatApp"})]}),Object(u.jsxs)("div",{className:"flex flex-col items-center bg-indigo-100 border border-gray-200 mt-4 w-full py-6 px-4 rounded-lg",children:[Object(u.jsx)("div",{className:"h-20 w-20 rounded-full border overflow-hidden",children:n?Object(u.jsx)("img",{src:n,alt:"Avatar",className:"h-full w-full"}):Object(u.jsx)("div",{className:"flex items-center justify-center rounded-full bg-green-500 text-white flex-shrink-0 h-full w-full text-4xl",children:s[0]})}),Object(u.jsx)("div",{className:"font-semibold mt-2 text-center text-xl",children:s})]}),Object(u.jsx)("div",{className:"flex flex-col mt-8",children:Object(u.jsx)(v,{type:"danger",onClick:function(){C.auth().signOut()},children:"Log out"})})]})},R=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),s=t[0],c=t[1];return Object(n.useEffect)((function(){C.auth().currentUser.reload().then((function(){var e=C.auth().currentUser;c(e)}))}),[]),s?Object(u.jsx)("div",{className:"flex h-screen antialiased text-gray-800",children:Object(u.jsxs)("div",{className:"flex flex-row h-full w-full overflow-x-hidden",children:[Object(u.jsx)(W,{user:s}),Object(u.jsx)(D,{user:s})]})}):null},H=function(){return Object(u.jsx)(d.a,{children:Object(u.jsxs)(j.d,{children:[Object(u.jsx)(j.b,{exact:!0,path:"/home",component:R}),Object(u.jsx)(j.a,{to:"/home"})]})})},F=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),s=t[0],c=t[1],l=Object(n.useState)(!0),a=Object(o.a)(l,2),x=a[0],b=a[1];return Object(n.useEffect)((function(){C.auth().onAuthStateChanged(function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,t.reload();case 3:c(!0),e.next=7;break;case 6:c(!1);case 7:b(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),x?Object(u.jsx)("div",{children:"Wait..."}):Object(u.jsx)(d.a,{children:Object(u.jsx)(j.d,{children:s?Object(u.jsx)(j.b,{path:"/",component:H}):Object(u.jsx)(j.b,{path:"/",component:z})})})};var V=function(){return Object(u.jsx)(F,{})};l.a.render(Object(u.jsx)(V,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.80d71487.chunk.js.map